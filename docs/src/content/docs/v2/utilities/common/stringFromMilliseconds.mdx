---
title: stringFromMilliseconds
description: A function that returns a string representation of a number of milliseconds.
---

import { Aside, Code } from '@astrojs/starlight/components'

import {
  TypeSince,
  Returns,
  Parameters,
  DescriptionList,
  Since,
  Default,
} from '../../components'

import {getUtilityUrl} from '../../getUrl'
import ErrorScope from '../../components/ErrorScope.astro'

<TypeSince type='function' since='2.0.0'/>

A function that returns a string representation of a number of milliseconds.

<ErrorScope errorScope='stringFromMillisecondsErrorScope'/>

## Usage
```ts
console.log(stringFromMilliseconds(1000)); // 1s

console.log(stringFromMilliseconds(1000), { maxUnit: 'ms' }); // 1000ms

console.log(stringFromMilliseconds(1500), { minUnit: 's' }); // 1.5s

console.log(stringFromMilliseconds(2750), { minUnit: 's', }); // 2.7s

console.log(stringFromMilliseconds(2750), { minUnit: 's', maxDecimalCount: 2 }); // 2.75s

console.log(stringFromMilliseconds(2750), { minUnit: 's', decimalBehavior: 'round'}); // 3s

console.log(stringFromMilliseconds(2750), { minUnit: 's', decimalBehavior: 'floor'}); // 2s

console.log(stringFromMilliseconds(2750), { minUnit: 's', decimalBehavior: 'ceil'}); // 3s

console.log(stringFromMilliseconds(1000), { unitsAlias: { s: 'second' }} ); // 1second

console.log(stringFromMilliseconds(2000), { unitsAlias: { s: 'second' }}); // 2second

console.log(stringFromMilliseconds(2000), { unitsAlias: { s: {plural: 'seconds', singular: 'second'} }} ); // 2seconds

console.log(stringFromMilliseconds(1000), { unitsAlias: { s: {plural: 'seconds', singular: 'second'} }} ); // 1second

console.log(stringFromMilliseconds(1500), { separator: '-' }); // 1s-500ms

console.log(stringFromMilliseconds(0), { showZeroValuedUnits: true }); // 00y:00mo:0w:00d:00h:00m:00s:000ms

console.log(stringFromMilliseconds(2005), { fixedWidth: true }); // 02s:005ms

console.log(stringFromMilliseconds(2005), { fixedWidth: true, showZeroValuedUnits: true }); // 00y:00mo:0w:00d:00h:00m:02s:005ms
```

## Definition
```ts
export function stringFromMilliseconds(
  milliseconds: number,
  options?: Options,
): TimeUnits { }
```

<Parameters parameters={[
  {
    name: 'milliseconds',
    type: 'number',
    description: [
      'The number of milliseconds to convert to a string.'
      ]
  },

  {
    name: 'options',
    type: `{
      maxUnit: "s" | "ms" | "m" | "h" | "d" | "w" | "mo" | "y",
      minUnit: "s" | "ms" | "m" | "h" | "d" | "w" | "mo" | "y",
      showZeroValuedUnits: boolean,
      fixedWidth: boolean,
      decimalBehavior: 'round' | 'floor' | 'ceil',
      maxDecimalCount: number,
      separator: string,
      unitsAlias: Partial<
        Record<
          "s" | "ms" | "m" | "h" | "d" | "w" | "mo" | "y",
          string
          | Partial<Record<
              'singular' | 'plural',
              string
            >>
        >
      >
    }`,

    description: [
      () => <>
        <code>options.maxUnit</code>
        <DescriptionList list={[
          'The largest time unit to be included in the string representation',

          () => <>
            See <a href='#units-and-their-values'>Units and their Values.</a>
          </>

        ]}/>
      </>,
      /**
      *
      *
      *
      */
      () => <>
        <code>options.minUnit</code>
        <DescriptionList list={[
          () => <Since since='2.1.0'/>,
          
          'The smallest time unit to be included in the string representation',

          () => <>
            See <a href='#units-and-their-values'>Units and their Values.</a>
          </>
        ]}/>
      </>,
      /**
      *
      *
      *
      */
      () => <>
        <code>options.showZeroValuedUnits</code>
        <DescriptionList list={[
          () => <Since since='2.2.0'/>,

          'A boolean value that indicates whether to display all time units from minUnit to maxUnit, even if they have zero values',

          () => <>
            For example, the output might be <code>1y:0mo:0w:0d:0h:2m:0s:5ms</code>
          </>,

          () => <Default value='false'/>,
        ]}/>
      </>,
      /**
      *
      *
      *
      */
      () => <>
        <code>options.fixedWidth</code>
        <DescriptionList list={[
          () => <Since since='2.2.0'/>,

          "A boolean value that indicates whether to pad the time units' string representation with leading zeros to maintain a fixed width",

          () => <>
            For example, the output might be <code>01mo:02d:23m:03s:005ms</code>
            instead of
            For example, the output might be <code>1mo:2d:23m:3s:5ms</code>
          </>,

          () => <Default value='false'/>,
        ]}/>
      </>,
      /**
      *
      *
      *
      */
      () => <>
        <code>options.separator</code>
        <DescriptionList list={[
          () => <Since since='2.1.0'/>,

          "The separator between time units in the string representation",

          () => <Default value=':'/>,
        ]}/>
      </>,
      /**
      *
      *
      *
      */
      () => <>
        <code>options.unitsAlias</code>
        <DescriptionList list={[
          () => <Since since='2.1.0'/>,

          () => <>
            specifies custom units names to be used in the string representation instead of the <a href='#units-and-their-values'>default ones.</a>
          </>,

          "It is an object where the key is the time unit string and the value is the alias or an object with the singular and plural values",

          () => <>
            <Aside title='Examples'>
              <ol>
                <li><Code lang='ts' code={`const unitsAlias = {\n\tms: {\n\t\tsingular: 'millisecond',\n\t\tplural: 'milliseconds'\n}};`}
                  />
                </li>
                
                <li><Code lang='ts' code={`const unitsAlias = { ms: 'millisecond' };`}/>
                </li>
              </ol>
            </Aside>
          </>,

          () => <Aside type='note'>If aliases is a string, it's value will be used for both singular and plural values.<br/> If it is an object and one of singular or plural is missing, the <a href='#units-and-their-values'>default value</a> will be used.</Aside>
        ]}/>
      </>,
      /**
      *
      *
      *
      */
      () => <>
        <code>options.maxDecimalCount</code>
        <DescriptionList list={[
          () => <Since since='2.1.0'/>,

          'The maximum number of decimal places to be included in the string representation.',

          "This value is used if the remaining milliseconds of the time unit are less than the value of minUnit and there are remaining milliseconds at the end",

          () => <>
            <Aside title='Examples'>
              <ol>
                <li><Code lang='ts' code={`stringFromMilliseconds(1500, { minUnit: 's', maxDecimalCount: 1 }); // 1.5s`}
                  />
                </li>
                
                <li><Code lang='ts' code={`stringFromMilliseconds(1050, { minUnit: 's', maxDecimalCount: 2 }); // 1.05s`}
                  />
                </li>
                
                <li><Code lang='ts' code={`stringFromMilliseconds(1050, { minUnit: 's', maxDecimalCount: 1 }); // 1s`}
                  />
                </li>
                
              </ol>
            </Aside>
          </>,

          () => <Aside type='note'>This option is useless when <code>decimalBehavior</code> exists or <code>minUnit</code> is greater than <code>ms</code>.</Aside>,

          () => <Default value='1'/>,
        ]}/>,

      </>,
      /**
      *
      *
      *
      */
      () => <>
        <code>options.decimalBehavior</code>
        <DescriptionList list={[
          () => <Since since='2.1.0'/>,

          'The behavior that will be applied to the decimal part of the time unit.',

          () => <>
          It is used when there will be decimal parts in the string representation and functions the same as their equivalent <a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math' target='_blank'>JavaScript Math</a> functions
          </>,

          () => <Aside type='note' >
              When used <code>maxDecimalCount</code> option is useless
            </Aside>,

        ]}/>
      </>,
    ]
  }
]}/>

<Returns type='string' details={[
  () => <>
  A <a href='#timeunits'>TimeUnits</a> string representation.
  </>,

  () => <Aside type='tip'>
    Returned value is a valid input for <a target="_blank" href={getUtilityUrl('common','millisecondsfromstring')}>millisecondsFromString</a>.
  </Aside>,
]}/>


## Units and their Values
| Unit | Description        |
|------|--------------------|
| y    | Year               |
| mo   | Month              |
| w    | Week               |
| d    | Day                |
| h    | Hour               |
| m    | Minute             |
| s    | Second             |
| ms   | Millisecond        |

## TimeUnits
A string contains a number followed by one of the following units: `y`, `mo`, `w`, `d`, `h`, `m`, `s`, `ms` or a combination of them separated by `:`.
    - <h5>For example:</h5>
        <Code lang='js' code="'1s' '1s:500ms' '1h:30m:45s'" />